<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>PLAN: HOW • rArimaOption</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="PLAN: HOW"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rArimaOption</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/pricing_methods.html">Pricing Methods</a></li>
    <li><a class="dropdown-item" href="articles/risk_neutral_pricing.html">Risk Neutral Pricing with ARIMA</a></li>
    <li><a class="dropdown-item" href="articles/risk_neutral_transformation.html">Risk Neutral Transformation</a></li>
    <li><a class="dropdown-item" href="articles/simulations.html">Simulating Stock Price Paths</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>PLAN: HOW</h1>

    </div>

<div id="plan-how" class="section level1">

<div class="section level2">
<h2 id="workflow-strategy">Workflow Strategy<a class="anchor" aria-label="anchor" href="#workflow-strategy"></a></h2>
<ul><li>Use <code>R/setup/</code> scripts for all operations (git, checks, builds).</li>
<li>Organize <code>R/setup/</code> into subfolders mapping to the workflow steps.</li>
<li>Use <code>targets</code> for ALL outputs (simulations, pricing, vignettes, nix files).</li>
</ul></div>
<div class="section level2">
<h2 id="id_1-environment--reproducibility">1. Environment &amp; Reproducibility<a class="anchor" aria-label="anchor" href="#id_1-environment--reproducibility"></a></h2>
<ul><li>
<strong>Packages</strong>:
<ul><li>Create <code>R/setup/maintain_env.R</code>.</li>
<li>Function to read <code>DESCRIPTION</code>, extract dependencies, write to <code>packages.R</code>.</li>
<li>
<code>default.R</code> reads <code>packages.R</code> and calls <code><a href="https://docs.ropensci.org/rix/reference/rix.html" class="external-link">rix::rix()</a></code> to generate <code>default.nix</code>.</li>
<li>Add to <code>_targets.R</code> to automate <code>default.nix</code> regeneration on DESCRIPTION change.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_2-risk-premium-extraction-arima">2. Risk Premium Extraction (ARIMA)<a class="anchor" aria-label="anchor" href="#id_2-risk-premium-extraction-arima"></a></h2>
<ul><li>
<strong>Method</strong>: Use <code><a href="https://pkg.robjhyndman.com/forecast/reference/auto.arima.html" class="external-link">forecast::auto.arima</a></code> or <code>ahead</code> package.</li>
<li>
<strong>Function</strong>: <code>extract_risk_premium(price_paths)</code>
<ul><li>Input: Time series of simulated prices (physical measure).</li>
<li>Input: Time series of simulated prices (physical measure).</li>
<li>Logic: Fit ARIMA, extract residuals/drift.</li>
<li>Specific Function: <code>fit_arima_increments(martingale_increments)</code>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_3-risk-neutral-transformation">3. Risk-Neutral Transformation<a class="anchor" aria-label="anchor" href="#id_3-risk-neutral-transformation"></a></h2>
<ul><li>
<strong>Method</strong>: Empirical Martingale Simulation / Residual Resampling.</li>
<li>
<strong>Function</strong>: <code>transform_risk_neutral(physical_paths, risk_free_rate)</code>
<ul><li>Adjust drift to <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>r</mi><annotation encoding="application/x-tex">r</annotation></semantics></math>.</li>
<li>Resample residuals to preserve distribution shape.</li>
<li>Specific Function: <code>generate_risk_neutral_paths(arima_models, residuals, n_sim, S0, r, maturity)</code>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_4-option-pricing">4. Option Pricing<a class="anchor" aria-label="anchor" href="#id_4-option-pricing"></a></h2>
<ul><li>
<strong>Function</strong>: <code>price_option(risk_neutral_paths, strike, maturity, type = "call")</code>
<ul><li>Discount expected payoff: <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mi>−</mi><mi>r</mi><mi>T</mi></mrow></msup><mi>E</mi><mo stretchy="false" form="prefix">[</mo><mrow><mi>max</mi><mo>⁡</mo></mrow><mo stretchy="false" form="prefix">(</mo><msub><mi>S</mi><mi>T</mi></msub><mo>−</mo><mi>K</mi><mo>,</mo><mn>0</mn><mo stretchy="false" form="postfix">)</mo><mo stretchy="false" form="postfix">]</mo></mrow><annotation encoding="application/x-tex">e^{-rT} E[\max(S_T - K, 0)]</annotation></semantics></math>.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_5-website--docs">5. Website &amp; Docs<a class="anchor" aria-label="anchor" href="#id_5-website--docs"></a></h2>
<ul><li>
<strong>Pkgdown</strong>: Configure <code>_pkgdown.yml</code>.</li>
<li>
<strong>Target</strong>: Add <code>tar_target(website, pkgdown::build_site())</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="id_6-verification">6. Verification<a class="anchor" aria-label="anchor" href="#id_6-verification"></a></h2>
<ul><li>
<strong>R CMD Check</strong>: strict 0 errors, 0 warnings, 0 notes.
<ul><li>Fix <code>$HOME</code> artifact issue (check <code>.Rbuildignore</code> or <code>default.nix</code> hook).</li>
<li>Initialize git repo properly.</li>
</ul></li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Gavin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

